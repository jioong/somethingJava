# 并发编程 #
  
## 迷思与误解 ##
* 并发总能改进性能。并发 **有时** 能改进性能，但只有在多个线程或处理器之间能分享大量等待时间的时候管用。  
* 编写并发程序无需修改设计。事实上，并发算法的设计有可能与单线程系统的设计极不相同。  

**中肯说法：**  
1. 并发会在性能和编写额外代码上 **增加一些开销。**
2. **正确的并发是复杂的。**  
3. 并发缺陷并非总能重现。  
4. 并发常常是对设计策略的根本性修改。  

## 并发防御原则 ##
  
### 单一权责原则 ###
  
单一权责原则 *SRP* 认为，方法、类、组件应当只有一个修改的理由。  
  
### 推论：限制数据作用域 ###
  
使用 `synchronized` 关键字在代码中保护一块使用共享对象的 **临界区**。限制临界区的数量很重要。更新共享数据的地方越多，越可能：  
* 忘记保护一个或多个临界区。  
* 多花力气保证一切都受到有效的保护。  
* 很难找到错误源，也很难判断错误源。  

**谨记数据封装，严格限制对可能被共享的数据的访问。**
  
### 推论：线程应尽可能的独立 ###
  
让每个线程在自己的世界中存在，不与其他线程共享数据。  
  
## Java 库 ##
  
*Java 1.5* 提供了许多并发开发方面的改进。  
掌握 `java.util.concurrent, java.util.concurrent.atomic, java.util.concurrent.locks` 。  
