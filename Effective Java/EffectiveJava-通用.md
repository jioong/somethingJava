# 通用程序设计 #

## 将局部变量的作用域最小化 ##
  
将局部变量的作用域最小化，可以增强代码的可读性和可维护性，并降低出错的可能性。   
**Java 允许在任何可以出现语句的地方声明变量。**    
  
1. 要使局部变量的作用域最小化，最有利的方法就是在第一次使用它的地方声明变量。  
过早的声明局部变量不仅会使它的作用域过早的扩展，而且结束的也过于晚。局部变量的作用域从它被声明的点开始，一直到外围块的结束处。如果变量是在“使用它的块”之外被声明的，当程序退出该块之后，该变量仍是可见的。如果变量在它的目标使用区域之前或者之后意外的被使用的话，将会导致灾难性的后果。  
2. 几乎每个局部变量的声明都应该包含一个初始化表达式。  】
如果还没有足够的信息来对一个变量进行有意义的初始化，就应该推迟这个声明，之道可以初始化为止。  
3. 是方法小而集中。  
如果把两个操作 *activity* 合并到一个方法中，与其中一个操作相关的局部变量就有可能出现在执行另一个操作的代码范围之内。为了防止这种情况发生，只要把这个方法分成两个，每个方法各执行一个操作。  
  
## for-each 循环优先于传统的 for 循环 ##

  
## 当心字符创连接的性能 ##
  
字符串连接操作符 *+ String concatenation operator* 是把多个字符串合并为一个字符串的便利途径。  
> 为连接 n 个字符串而重复使用字符串连接操作符，需要 n 的平方级的时间。  
  
这是由于字符串的不可变而导致的结果。当两个字符串被连接在一起的时候，它们的内容都要被拷贝。  
为了获得可以接受的性能，使用 *StringBuilder* 代替 *String* 来存储字符串。 *Java 1.5* 中增加了非同步 *StringBuilder* 类代替已经过时的 *StringBuffer* 类。  
  
**总结**：  
* 不要使用字符串连接操作符来合并多个字符串，除非性能无关紧要。  
* 使用 *StringBuilder* 类的 *append()* 方法。  
  


**来源于：Joshua Bloch 《Effective Java 中文版》**  