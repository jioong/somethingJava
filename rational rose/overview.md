## Rational Rose ##
  
**浏览器**  
  
浏览器是层次结构的，用于在不同的模型之间导航。在浏览器中显示了模型中增加的一切，如参与者、用例、类等。浏览器中包含四个视图：  
* *Use Case* 视图
* *Logical* 视图  
* *Component* 视图  
* *Deployment* 视图  

点击每个视图的**右键**， *new* 中包含了该视图所包含的一些模型元素。  
  
**框图窗口**  
设计模型的主窗口。该窗口中的模型元素与**浏览器**中的元素保持一致。   
   
### 作用简介 ###
  
1. 用例图  
用例图(*Use Case Diagram*) 描述了作为一个外部的观察者的视角对系统的印象，**强调的是这个系统是什么而不是这个系统怎么工作。**用例图在三个领域很有用：  
1） 决定特征(需求)。当系统已经分析好并且设计成型时，新的用例产生新的需求。  
2） 客户通讯。使用用例图很容易表示开发者与客户之间的联系。  
3） 产生测试用例。一个用例的情节可能产生这些情节的一批测试用例。  
  
2. 类图  
类图(*Class Diagram*) 通过显示出系统的类以及这些类之间的关系来表示系统。**类图是静态的**，它显示出什么可以产生影响但不会告诉什么时候产生影响。类图之间有三种关系：  
1） 关联 *association* :表示两种类的实例间的关系。如果一个类的实例必须要用到另一个类的实例才能完成工作就要用到关联。  
2） 聚合 *aggregation* ：当一个类属于一个容器时的一种特殊关系。聚合是一种带菱形的连线，菱形指向具有整体性质的类。  
3） 泛华 *generalization* :一个指向以其他类作为超类的继承连线。泛华关系用一个三角形指向超类。  
  
包和对象是为了简单的表示出复杂的类图，可以把类组合成包 *packages*。 一个包是 *UML* 上有逻辑关系的元件的集合。  
  
3. 顺序图  
类图和对象图是静态模型的视图。交互图是动态的，它们描述了对象间的交互作用。  
顺序图将交互表示为一个二维图。**纵向是时间轴，横向代表了在协作中各个独立对象的类元角色。**类元角色用生命线表示。当对象存在时，角色用一条虚线表示，当对象的过程处于激活状态时，生命线是一个双道线。消息用从一个对象的生命线到另一个对象生命线的箭头表示。  
  
4. 协作图  
协作图也是交互的图标。它们像序列图一样也传递相同的消息，但是它不关心什么时候消息被传递，只关心对象的角色。协作图的每个消息都有一个序列号。  
  
5. 状态图  
状态图(*Statechart Diagram*) 显示处理对象可能的状态以及有状态改变而导致的转移。对象拥有行为和状态，对象的状态是由对象当前的行动和条件决定的。  
  
6.活动图  
活动图(*Activity Diagram*) 是一个特别的流程图。活动图和状态图之间是有关系的。状态图把焦点集中在过程中的对象上，二活动图则集中在一个单独过程动作流程。活动图告诉活动之间的依赖关系。  
  
7. 组件与实施图  
组件(*component*) 是代码模块。组件图是类图的物理实现。  
实施图(*Deployment Diagram*) 则是显示软件及硬件的配置。

### UML 各类框图 ###
    
#### Use Case Diagram ####
**1. Use Case 用例图**  
从用例图可以看到系统可以做什么，与谁交互。**用例是系统提供的功能，参与者是系统与谁交互。**一个系统可以建立一个或多个用例图。  
  
> 创建用例图： 1）在浏览器的 *Use Case View* 中，双击 *Main*,在框图窗口中打开一个新的用例图。2）右键 *Use Case View* ，选择 *new ---> package* 并命名，然后右键该新建的包，选择 *new ---> use case diagram* 。  

对系统总的用例一般画在 *Use Case View* 中的 *Main* 里，如果一个系统创建第一个用例图，则可以用包的形式来组织。  

**2. 创建参与者**  
1） 在工具栏中选择 *Actor*, 光标的形状变成加号。  
2） 双击左键可以修改 *Actor* 的属性。 
 
若要简要说明 *Actor*, 执行以下步骤：  
1. 双击打开设置对话框。  
2. 打开 *General* 选项卡， 在 *Documentation* 文本框中对其进行描述。  
3. 单击 *OK* 完成。  

**3. 参与者与用例之间的关系**  
1） 从工具栏选择关联关系箭头。  
2） 将光标定位在用例图中的参与者上，单击鼠标**左键**将光标移动到用例符号上，然后释放鼠标左键。  

#### Activity Diagram ####

活动图显示了从活动到活动的流。活动图可以在分析业务的时候用来演示业务流，也可以在手机系统需求的时候显示一个用例中的事件流。  
活动图显示了系统中某个业务或者某个用例，要经历哪些活动以及这些活动发生的顺序。  

**1. 创建活动图**  
1） 用于分析系统业务：在浏览器中右击 *Use Case View*, 选择 *new ---> activity diagram*。  
2） 用于显示用例中的事件流：在浏览器中选中某个用例，然后**右击**该用例，选择 *new ---> activity diagram*。  
  
**2. 增加泳道**  
  
泳道是框图里的竖段，包含特定人员或组织要惊醒的所有活动。可以把框图分为多个泳道，每个泳道对应每个人员或组织。在工具栏中选择 *swinlane* 按钮，然后单击框图增加泳道，最后用人员或组织给泳道命名。  
  
增加活动并设置活动顺序：  
1. 在工具栏中选择 *Activity* 按钮，单击活动图增加活动，并命名。  
2. 在工具栏中选择 *State Transition* 按钮，把箭头从一个活动托向另一个活动。  

增加同步：  
1. 选择 *Synchronization* 工具栏按钮，单击框图来增加同步。  
2. 画出从活动到同步棒的箭头，表示在这个活动之后开始并处理。  
3. 画出从同步棒到可以**并行发生**的活动之间的交接箭头。  
4. 创建另一同步棒，表示并行处理结束。  
5. 画出从同步活动到最后同步棒之间的交接箭头，表示完成所有这些活动之后，停止并行处理。  
  
增加决策点：  
决策点表示可以采取两个或多个不同的路径。从决策到活动的交接箭头要给出保证条件，控制贼决策之后采取什么路径。**保证条件应该是互斥的。**  
1. 在工具栏中选择 *Decision* 按钮，单击框图增加决策点。  
2. 拖动从决策到决策之后可能发生的活动之间的交接，双击交接，打开 *detail* 选项卡，在 *Guard Condition* 字段中写入保证条件。  

#### Class Diagram ####
  
类图显示系统之中类和类之间的交互。  
  
**1. 创建类**  
在 *Rational Rose* 中可以通过几种途径来创建类。最简单的是利用 *Logical View* 中的类图标和绘图工具，在图中创建一个类。或者，在浏览器中选择一个包并使用快捷菜单的 *new ---> class*。 一旦创建了一个类，就可以通过双加打开对话框并在 *Documentation* 字段中添加文本对该类进行说明。  
  
**2. 创建方法**  
1. 选择浏览器中或类图上的类。  
2. 使用快捷菜单的 *new ---> Operation*。  
3. 输入方法的名字，可在 *Documentation* 字段中为该方法输入描述其目的的简单说明。  

**3. 创建属性**  
1. 选择浏览器中或类图上的类。  
2. 使用快捷菜单的 *new ---> Attribute*。  
3. 输入属性的名字，可在 *Documentation* 字段中为该属性输入描述其目的的简要说明。  

**4. 创建类图**  
1. 右击浏览器的 *Logical View*， 选择 *new ---> class diagram*。  
2. 把浏览器中的类拉倒类图中即可。  

**5. 创建类之间的关系**  
1. 类之间的关系在工具栏中显示。  
2. 对于关联关系来说，双击关联关系，就可以在弹出的对话框中对关联的名称和角色进行编辑。  
3. 编辑关联关系的多重性：右键单击所要编辑的关联的一端，从弹出的菜单中选择 *Multiplicity*， 然后选择所要的基数。

#### Interaction Diagram ####
  
**1. 序列图(Sequence Diagram)**  
序列图显示用例中的功能流程。  

1. 创建序列图  
在浏览器中的 *Logical View* 中单击右键，选择 *new ---> sequence diagram* 新建序列图。也可以在 *Use Case View* 中选择某个用例，然后右键点击该用例，选择 *new ---> sequence diagram*。  

2. 在序列图中放置参与者与对象  
在序列图中的主要元素之一就是对象，相似的随想可以被抽象为一个类。序列图中的每个对象代表了某各类的某一个实例。  
1） 把用例图中的该用例设计的所有参与者拖到 *sequence* 图中。  
2） 选择工具栏中的 *object* 按钮，单击框图增加对象。可以选择创建已有类的对象，也可以在浏览器中新建一个类，再创建新的类的对象。双击对象，在弹出的对话框中的 *class* 里确定该对象所属的类。  
对象命名：对象可以命名也可以没有名字。在 *name* 里给对象取名。  

3. 说明对象之间的消息  
1） 选择 *message* 工具栏按钮。  
2） 单击启动消息的参与者或对象，把消息拖到目标对象和参与者。  
命名消息。双击消息，在对话框 *General ---> name* 中输入消息名称。  
  
**2. 协作图(Collaboration Diagram)**  
协作图的创建以及在协作图中放置参与者和对象与序列图类似。只不过对象之间的链接有所不同。  
  
1. 增加对象链接  
1） 选择 *Object Link* 工具栏按钮。  
2） 单击要链接的参与者或对象。  
3） 将对象链接拖动到要链接大参与者或对象。  
  
2. 加进消息  
1） 选择 *Link Message* 或 *Reverse Link Message* 工具栏按钮。  
2） 单击要放消息的对象链接。  
3） 双击消息，可以在弹出的对话框中为消息命名。  
  
3. 自反链接  
1） 选择 *Link to Self* 工具栏按钮。  
2） 单击要链接的对象，会增加一个消息的箭头。  
3） 双击消息，命名自反链接。  
  
在序列图中按 **F5** 可以创建相应的协作图；同样的，在协作图中按 **F5** 可以创建相应的序列图。序列图和协作图是同构的，也就是说两张图之间的转换没有任何信息的损失。  

#### Statechart Diagram ####
  
状态图显示了对象的动作行为，显示对象可能存在的各种状态，对象创建时的状态，对象删除时的状态，对象如何从一种状态转换到另一种状态，对象在不同状态之中干什么。  
**1. 创建状态图**  
1） 在浏览器中**右击类**。  
2） 选择 *new ---> statechart diagram*， 对该类创建一个状态图，并命名。  
  
**2. 在对象中增加状态，初始和终止状态**  
1） 选择工具栏的 *state* 按钮，单击框图增加一个状态，双击命名。  
2） 选择工具栏的 *start state* 和 *end state*， 单击框图增加初始状态和终止状态。初始状态是对象首次实例化时的状态，状态图中只有一个初始状态。终止状态表示对象在内存中被删除之前额状态，终止状态数目不定。  
  
**3. 状态之间增加交接**  
1） 选择 *state transition* 工具栏按钮。  
2） 从一种状态拖到另一种状态。  
3） 双击交接弹出对话框，可以在 *General* 中增加 **事件(event)**。 在 *detail* 中增加 **保证条件(Guard Condition)** 等交接细节。事件用来在交接中从一个对象发送给另一个对象，保证条件放在中括号里，控制是否发生交接。  
  
**4. 在状态中增加活动**  
1） 右击状态并选择 *open specification*。  
2） 选择 *Action* 标签，右击空白处选择 *Insert*。  
3） 双击新活动(清单中*Entry/*) 打开活动规范，在 *name* 中输入活动细节。  

#### Component Diagram ####
  
构件图显示模型的物理视图，也显示系统中的软件构建机器相互关系。模型中的每个类映射到源代码构建。一旦创建构建，就加进构建图中，然后画出构件之间的相关性。构件之间的相关性包括**编译相关性和运行相关性。**  
  
**1. 创建构件图**  
1） 右键单击浏览器中的 *Component View*。  
2） 选择 *new ---> Component Diagram*， 并命名新的框图。  
  
**2. 构件加入框图**  
1） 选择 *Component* 工具栏按钮，单击框图增加构件，并命名。  
2） 右键单价构件，选择 *Open Specification*， 在 *stereotype* 中设计构件版型。  
  
#### Deployment Diagram ####
  
实施图显示网络的物理布局，系统中涉及的处理器、设备、连接和过程。处理器是网络中处理功能所在的机器，包括服务器和工作站，不宝库奥打印机、扫描仪之类的设备。处理器用来运行过程。**一个项目只有一个实施图。**  
  
**1. 创建实施图**  
1）双击 *Deployment View*.  
2) 选择 *Processor* 工具栏按钮，单击框图增加处理器，并命名。  
3）在 *Deployment View* 中右键单击处理器选择 *new ---> process*, 命名进程。  
4）在框图中右击处理器，对 *show Processes* 打勾，可以在框图中显示该处理器的进程。  
  
**2. 把设备加入框图**  
1) 选择 *Device* 工具栏按钮。  
2）单击框图增加设备，并命名。  

**3. 把连接器加入框图**  
1） 选择 *Connection* 工具栏按钮。  
2） 单击要连接的一个处理器或设备，拖动到要连接的另一个处理器或设备，并命名。 